{% load static %}
{% include 'Company/companyheader.html' %}
<br><br>

<style>
  .services-table-container {
    padding: 20px;
  }

  /* ONLY CHANGE THAT MATTERS */
  .services-table {
    width: 60%;              /* make table smaller than page */
    margin: 0 auto;          /* center horizontally */
  }

  .services-table thead {
    background-color: #f8f9fa;
  }

  .services-table th {
    font-weight: 600;
    padding: 15px;
    text-align: left;
    border-bottom: 2px solid #dee2e6;
  }

  .services-table td {
    padding: 15px;
    vertical-align: middle;
    border-bottom: 1px solid #dee2e6;
  }

  .service-image {
    max-height: 60px;
    max-width: 80px;
    border-radius: 4px;
    object-fit: cover;
  }

  .action-buttons {
    display: flex;
    gap: 8px;
  }

  .btn-accept, .btn-reject {
    padding: 6px 16px;
    border: none;
    border-radius: 4px;
    font-weight: 500;
    cursor: pointer;
    font-size: 0.875rem;
  }

  .btn-accept {
    background-color: #ffc107;
    color: #333;
  }

  .btn-reject {
    background-color: #dc3545;
    color: white;
  }
</style>

<div class="services-table-container">
  <div class="card">
    <h5 class="card-header">Company Services</h5>

    <div class="table-responsive">
      <table class="table services-table mb-3">
        <thead>
          <tr>
            <th>#</th>
            <th>Service Name</th>
            <th>Price</th>
            <th>Description</th>
            <th>Image</th>
            <th>Edit</th>
            <th>Delete</th>
          </tr>
        </thead>

        <tbody>
          {% for s in serv %}
          <tr>
            <td>{{ forloop.counter }}</td>
            <td>{{ s.servicename }}</td>
            <td>â‚¹{{ s.totalamount }}</td>
            <td>{{ s.description|truncatewords:5 }}</td>
            <td>
              <img src="/media/{{ s.image }}" class="service-image">
            </td>
            <td>
              <a href="{% url 'editservice' sid=s.serviceid %}" 
                          onclick="return confirm('Are you sure you want to edit this service?')" 
                          class="btn btn-warning">Edit</a>
            </td>
            <td>
              <a href="{% url 'deleteservice' sid=s.serviceid %}" 
                          onclick="return confirm('Are you sure you want to delete this service?')" 
                          class="btn btn-danger">Delete</a>
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</div>

{% include 'Company/companyfooter.html' %}
